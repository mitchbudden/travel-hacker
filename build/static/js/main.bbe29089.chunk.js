(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{178:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(85),i=a.n(l),c=a(14),s=a(54),u=s.initializeApp({apiKey:"AIzaSyAQwdP2G_4IAWSULXur_oLg7jvQy502eSE",authDomain:"travel-hacker-b5fc2.firebaseapp.com",databaseURL:"https://travel-hacker-b5fc2.firebaseio.com",projectId:"travel-hacker-b5fc2",storageBucket:"travel-hacker-b5fc2.appspot.com",messagingSenderId:"812038824612"}),o=s.database().ref("cards"),m=s.database().ref("filteredCards"),p=a(9),d=a(10),h=a(12),v=a(11),f=a(13),b=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={title:""},n}return Object(d.a)(a,[{key:"addCard",value:function(){var e=this.state.title,t=this.props.user.email;o.push({email:t,title:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"form-inline"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"Add a Card",className:"form-control",style:{marginRight:"5px"},onChange:function(t){return e.setState({title:t.target.value})}}),r.a.createElement("button",{className:"btn btn-success",type:"button",onClick:function(){return e.addCard()}},"Submit")))}}]),a}(n.Component);var E=Object(f.b)((function(e){return{user:e.user}}),null)(b);var g=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"completeCard",value:function(){var e=this.props.user.email,t=this.props.card,a=t.title,n=t.serverKey;o.child(n).remove(),m.push({email:e,title:a})}},{key:"render",value:function(){var e=this,t=this.props.card,a=t.email,n=t.title;return r.a.createElement("div",{style:{margin:"5px"}},r.a.createElement("strong",null,n),r.a.createElement("span",{style:{margin:"5px"}}," ","submitted by ",r.a.createElement("em",null,a)),r.a.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){return e.completeCard()}},"Complete"))}}]),a}(n.Component);var y=Object(f.b)((function(e){return{user:e.user}}),null)(g),C=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;o.on("value",(function(t){var a=[];t.forEach((function(e){var t=e.val(),n=t.email,r=t.title,l=e.key;a.push({email:n,title:r,serverKey:l})})),e.props.setCards(a)}))}},{key:"render",value:function(){return r.a.createElement("div",null,this.props.cards.map((function(e,t){return r.a.createElement(y,{key:t,card:e},e.title)})))}}]),a}(n.Component);var O=Object(f.b)((function(e){return{cards:e.cards}}),{setCards:function(e){return{type:"SET_CARDS",cards:e}}})(C),j=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.on("value",(function(t){var a=[];t.forEach((function(e){var t=e.val(),n=t.email,r=t.title;a.push({email:n,title:r})})),e.props.setFiltered(a)}))}},{key:"clearCompleted",value:function(){m.set([])}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.filteredCards.map((function(e,t){var a=e.title,n=e.email;return r.a.createElement("div",{key:t},r.a.createElement("strong",null,a)," completed by ",r.a.createElement("em",null,n))})),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.clearCompleted()}},"Clear All"))}}]),a}(n.Component);var k=Object(f.b)((function(e){return{filteredCards:e.filteredCards}}),{setFiltered:function(e){return{type:"SET_FILTERED",filteredCards:e}}})(j),S=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"signOut",value:function(){u.auth().signOut()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{margin:"5px"}},r.a.createElement("h3",null,"Travel Hacker"),r.a.createElement(E,null),r.a.createElement("hr",null),r.a.createElement("h4",null,"Cards"),r.a.createElement(O,null),r.a.createElement("hr",null),r.a.createElement("h4",null,"Filtered Cards"),r.a.createElement(k,null),r.a.createElement("hr",null),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.signOut()}},"Sign Out"))}}]),a}(n.Component);var N=Object(f.b)((function(e){return{}}),null)(S),w=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={email:"",password:"",error:""},n}return Object(d.a)(a,[{key:"signIn",value:function(){var e=this,t=this.state,a=t.email,n=t.password;u.auth().signInWithEmailAndPassword(a,n).catch((function(t){e.setState({error:t})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"form-inline",style:{margin:"5%"}},r.a.createElement("h2",null,"Sign In"),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"text",style:{margin:"5px"},placeholder:"email",onChange:function(t){return e.setState({email:t.target.value})}}),r.a.createElement("input",{className:"form-control",type:"password",style:{margin:"5px"},placeholder:"password",onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(){return e.signIn()}},"Sign In")),r.a.createElement("div",null,this.state.error.message),r.a.createElement("div",null,r.a.createElement(c.a,{to:"/signup"},"Sign Up")))}}]),a}(n.Component),I=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={email:"",password:"",error:""},n}return Object(d.a)(a,[{key:"signUp",value:function(){var e=this;console.log(this.state);var t=this.state,a=t.email,n=t.password;u.auth().createUserAndRetrieveDataWithEmailAndPassword(a,n).catch((function(t){e.setState({error:t})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"form-inline",style:{margin:"5%"}},r.a.createElement("h2",null,"Sign Up"),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"text",style:{margin:"5px"},placeholder:"email",onChange:function(t){return e.setState({email:t.target.value})}}),r.a.createElement("input",{className:"form-control",type:"password",style:{margin:"5px"},placeholder:"password",onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(){return e.signUp()}},"Sign Up")),r.a.createElement("div",null,this.state.error.message),r.a.createElement("div",null,r.a.createElement(c.a,{to:"/signin"},"Already a user? Sign in instead.")))}}]),a}(n.Component),A=a(29),x={email:null},D=Object(A.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNED_IN":var a=t.email;return x={email:a};default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CARDS":var a=t.cards;return a;default:return e}},filteredCards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTERED":var a=t.filteredCards;return a;default:return e}}}),U=Object(A.c)(D);u.auth().onAuthStateChanged((function(e){if(e){var t=e.email;U.dispatch(function(e){return{type:"SIGNED_IN",email:e}}(t)),c.d.push("/app")}else c.d.replace("/signin")})),i.a.render(r.a.createElement(f.a,{store:U},r.a.createElement(c.c,{path:"/",history:c.d},r.a.createElement(c.b,{path:"/app",component:N}),r.a.createElement(c.b,{path:"/signin",component:w}),r.a.createElement(c.b,{path:"/signup",component:I}))),document.getElementById("root"))},91:function(e,t,a){e.exports=a(178)}},[[91,1,2]]]);
//# sourceMappingURL=main.bbe29089.chunk.js.map